<html>
<head>
    <title>Library Catalog</title>
</head>
<body>
    <h1>List of Books</h1>

    {% if books is not empty %}
        <p>Here are all your books:</p>
        <ul>
            {% for book in books %}
                <li><a href="/books/{{ book.getId }}">{{ book.getTitle }}</a></li>
            {% endfor %}
        </ul>
    {% endif %}

    <form action='/books' method='post'>
        <label for='title'>Add more book</label>
        <input id='title' name='title' type='text'>

        <button type='submit'>Add new</button>
    </form>
    <br> <br>
    <form action='/delete_books' method='post'>
        <input name='_method' type='hidden' value='delete'>
        <button type='submit'>Clear this book list</button>
    </form>
    <p><a href='/'>Home</a></p>
    <br><br>

    <form action='/search' method='get'>
        <label for='search'>Search by title or author</label>
        <input id='search' name='search' type='text'>
        <button type='submit'>Search</button>
    </form>

    {% if result_books is not empty %}
        <p>Here are all the books you search for:</p>
        <ul>
            {% for book in result_books %}
                <li><a href="/books/{{ book.getId }}">{{ book.getTitle }}</a></li>
            {% endfor %}
        </ul>
    {% endif %}

    {% if result_authors is not empty %}
        <p>Here are all the authors you search for:</p>
        <ul>
            {% for author in result_authors %}
                <li><a href="/authors/{{ author.getId }}">{{ author.getAuthor }}</a></li>
            {% endfor %}
        </ul>
    {% endif %}
</body>
</html>
